{% extends "admin/base.html" %}
{% load partials utils %}

{% block head %}
    {% add_style 'admin/index.css' %}
    {% add_script 'vendor/jquery.dataTables.min.js' 'admin/index.js' %}
{% endblock %}

{% block content %}
    {% get_feedback %}
    <input class="search-bar" placeholder="Search">
    <p><a href="{% url 'admin:add_song' %}">Add Song</a></p>
    <table class="songs-table">
        <thead>
            <tr>
                <th class="title">Title</th>
                <th class="artist">Artist</th>
                <th class="slug">Slug</th>
                <th class="themes">Themes</th>
                <th class="view"></th>
            </tr>
        </thead>
        <tbody>
            {% for song in songs %}
                <tr>
                    <td class="title"><a href="{% url 'admin:edit_song' song.slug %}">{{ song.title }}</a></td>
                    <td class="artist">{{ song.artist }}</td>
                    <td class="slug">{{ song.slug }}</td>
                    <td class="themes">{{ song.themes.count }}</td>
                    <td class="view"><a href="{{ song.get_absolute_url }}">View</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
